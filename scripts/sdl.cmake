if (UNIX)
 include (FindPkgConfig)
 pkg_check_modules (PKG_CONFIG_MODULE_SDL sdl12_compat)
 if (PKG_CONFIG_MODULE_SDL_FOUND)
  set (SDL1_FOUND TRUE)
  set (SDL1_INCLUDE_DIRS ${PKG_CONFIG_MODULE_SDL_INCLUDE_DIRS})
  set (SDL1_LIBRARIES ${PKG_CONFIG_MODULE_SDL_LIBRARIES})
 else ()
  pkg_check_modules (PKG_CONFIG_MODULE_SDL2 SDL2)
  if (PKG_CONFIG_MODULE_SDL2_FOUND)
   set (SDL2_FOUND TRUE)
   set (SDL2_INCLUDE_DIRS ${PKG_CONFIG_MODULE_SDL2_INCLUDE_DIRS})
   set (SDL2_LIBRARIES ${PKG_CONFIG_MODULE_SDL2_LIBRARIES})
  endif (PKG_CONFIG_MODULE_SDL2_FOUND)
 endif (PKG_CONFIG_MODULE_SDL_FOUND)

 if (SDL1_FOUND)
  pkg_check_modules (PKG_CONFIG_MODULE_SDL_TTF SDL_ttf)
  if (PKG_CONFIG_MODULE_SDL_TTF_FOUND)
   set (SDL1_TTF_INCLUDE_DIRS ${PKG_CONFIG_MODULE_SDL_TTF_INCLUDE_DIRS})
   set (SDL1_TTF_LIBRARIES ${PKG_CONFIG_MODULE_SDL_TTF_LIBRARIES})
  endif (PKG_CONFIG_MODULE_SDL_TTF_FOUND)
 elseif (SDL2_FOUND)
  pkg_check_modules (PKG_CONFIG_MODULE_SDL2_TTF SDL2_ttf)
  if (PKG_CONFIG_MODULE_SDL2_TTF_FOUND)
   set (SDL2_TTF_INCLUDE_DIRS ${PKG_CONFIG_MODULE_SDL2_TTF_INCLUDE_DIRS})
   set (SDL2_TTF_LIBRARIES ${PKG_CONFIG_MODULE_SDL2_TTF_LIBRARIES})
  endif (PKG_CONFIG_MODULE_SDL2_TTF_FOUND)
 endif ()
endif (UNIX)
if (SDL1_FOUND OR SDL2_FOUND)
 option (SDL_SUPPORT "SDL support" TRUE)
 if (SDL_SUPPORT)
  add_definitions (-DSDL_SUPPORT)
 endif (SDL_SUPPORT)
endif (SDL1_FOUND OR SDL2_FOUND)

